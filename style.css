:root{
  --ink:#0a0a0a; --muted:#6b7280; --line:#e5e7eb; --bg:#f7f7f7; --card:#fff; --accent:#111;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,'Noto Sans JP','Hiragino Kaku Gothic ProN','Yu Gothic',Meiryo,sans-serif;color:var(--ink);background:var(--bg)}

.bar{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;border-bottom:1px solid var(--line);background:#fff}
.right{opacity:.85}
.small{font-size:12px}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace}
.muted{color:var(--muted)}

/* ★ 広幅 */
.container{max-width:1800px;margin:0 auto;padding:16px;display:grid;gap:16px}
.panel{background:var(--card);border:1px solid var(--ink);box-shadow:8px 8px 0 rgba(0,0,0,.08);padding:16px}

/* 上段：右をワイドに */
.topgrid{display:grid;grid-template-columns:0.8fr 1.2fr;gap:16px;align-items:start}

/* ファイル選択：縦並び */
.inputs.vertical{display:flex;flex-direction:column;gap:12px;align-items:stretch}
.file{display:grid;gap:6px}

/* 共通 */
label{font-weight:700}
.tight{margin-left:8px}
.short{width:88px}
button{border:1px solid var(--ink);background:#fff;padding:6px 10px;cursor:pointer}
button:hover{transform:translate(-1px,-1px);box-shadow:2px 2px 0 var(--ink)}
button.ghost{border-style:dashed}
.row{display:flex;align-items:center;gap:8px;margin:6px 0}
.row.wrap{flex-wrap:wrap}

/* 下段ビュー */
.two{display:grid;grid-template-columns:1.1fr 1fr;gap:16px;align-items:start}
.pane{display:grid;gap:8px}
#player{width:100%;height:66vh;background:#000;object-fit:contain}
#plot{width:100%;height:66vh;border:1px solid var(--ink)}
input[type="range"]{flex:1}

/* 列パネル（ワイド） */
.colpanel{
  display:grid;
  grid-template-columns:repeat(4, minmax(240px, 1fr));
  gap:12px; align-items:start; margin-top:6px
}
.group{border:1px solid var(--ink); padding:8px; background:#fff}
.group h3{margin:0 0 6px 0; font-size:14px; display:flex; align-items:center; gap:8px}
.group .tiny{font-size:11px; color:var(--muted)}
.items{display:grid; gap:4px}
.item{display:flex; align-items:center; gap:8px; position:relative}
.item label{font-weight:600; cursor:help}
.badge{font-size:10px; border:1px solid var(--ink); padding:1px 6px; background:#fff; color:#444}

/* カスタム・ツールチップ（ホバーで詳細表示） */
.item [data-tip]::after{
  content: attr(data-tip);
  position:absolute; left:0; top:100%; transform:translateY(6px);
  background:#111; color:#fff; border:1px solid #000;
  padding:8px 10px; width:360px; max-width:60vw; line-height:1.4; font-size:12px;
  box-shadow:4px 4px 0 rgba(0,0,0,.2);
  pointer-events:none; opacity:0; transition:opacity .12s ease;
  z-index:10; white-space:normal;
}
.item [data-tip]:hover::after{opacity:1}

/* レスポンシブ */
@media (max-width: 1400px){
  .topgrid{grid-template-columns:1fr}
  .colpanel{grid-template-columns:repeat(3, minmax(220px, 1fr))}
}
@media (max-width: 1100px){
  .colpanel{grid-template-columns:repeat(2, minmax(220px, 1fr))}
}
@media (max-width: 980px){
  .two{grid-template-columns:1fr}
  #player,#plot{height:48vh}
  .colpanel{grid-template-columns:1fr}
}
.foot{text-align:center;color:var(--muted);padding:10px 0}
